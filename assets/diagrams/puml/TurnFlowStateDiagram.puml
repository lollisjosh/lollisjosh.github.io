@startuml Turn Flow State Machine
!theme plain
skinparam backgroundColor #FFFFFF

skinparam state {
    BackgroundColor #ffd23f
    BorderColor #540d6e
    FontColor #540d6e
    ArrowColor #0ead69
}

skinparam defaultFontName Arial

[*] --> TurnBeginState

TurnBeginState --> WaitingForPlayerActionState : CountdownComplete\n(Turn intro timer lapses)

WaitingForPlayerActionState --> WaitingForResolutionState : PlayerHasFired\n(Player fires a weapon)
WaitingForPlayerActionState --> WaitingForResolutionState : TurnTimedOut\n(Turn timer expires)

WaitingForResolutionState --> TurnEndState : ProjectilesSettled\n& WaitTimeElapsed\n(All projectiles resolved)

TurnEndState --> TurnBeginState : GameContinues\n(No team defeated)
TurnEndState --> GameOverState : IsGameOver\n(A team wins)

GameOverState --> [*]

@enduml
