@startuml Unit Behavior State Machine
!theme plain
skinparam backgroundColor #FFFFFF

skinparam state {
    BackgroundColor #ffd23f
    BorderColor #540d6e
    FontColor #540d6e
    ArrowColor #0ead69
}

skinparam defaultFontName Arial

[*] --> IdleState

IdleState --> RunState : MovementInput
IdleState --> FallState : NotGrounded
IdleState --> JumpState : JumpInput\n& Grounded
IdleState --> DieState : InWater

RunState --> IdleState : NoMovementInput
RunState --> FallState : NotGrounded
RunState --> JumpState : JumpInput\n& Grounded
RunState --> DieState : InWater

JumpState --> IdleState : Grounded\n& JumpReleased
JumpState --> FallState : NotGrounded

FallState --> IdleState : Grounded
FallState --> DieState : InWater

DieState --> [*]

@enduml